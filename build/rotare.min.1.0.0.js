/*! rotare - v1.0.0 - 2016-04-05 */!function($,w){var rotare={$conf:null,beforeConf:{direction:"right",easing:"linear",time:450},loop:-1,$prev:{animateTo:0},start:function(conf,callback){var that=this;that.loop++,that.$conf=initConf(conf,that.loop,that.beforeConf,that.$prev),$(that.$conf.conf.categoryOrigin).css(that.$conf.css),$(that.$conf.conf.categoryOrigin).on("webkitTransitionEnd",function(){return callback&&callback(),that.$conf.conf.reset?void(reset&&reset(that.$conf.conf)):(stop&&stop(that.$conf),void(that.deg&&that.deg(that.$conf)))})},beforeGo:function(conf){var that=this;$.extend(that.beforeConf,conf),$(conf.categoryOrigin).css({animation:"rotare_"+that.beforeConf.direction+" "+that.beforeConf.time+"ms "+that.beforeConf.easing+" infinite","-webkit-animation":"rotare_"+that.beforeConf.direction+" "+that.beforeConf.time+"ms "+that.beforeConf.easing+" infinite"})},deg:function(conf){var that=this;that.$prev.animateTo="-"==conf._css.direction?-conf._css.animateTo:conf._css.animateTo,that.$prev.direction=conf.conf.direction}},initConf=function(conf,loop,beforeConf,prev){var _conf={direction:"right",angle:0,easing:"linear",random:[0,0],reset:!1};$.extend(_conf,conf);var _css={time:beforeConf.time*_conf.loops+"ms",easing:_conf.easing,direction:"right"==_conf.direction?"":"-",animateTo:random(_conf.animateTo,_conf.direction,_conf.random)+360*(_conf.loops+5*loop)};return{conf:_conf,css:{transform:"rotate("+_css.direction+_css.animateTo+"deg)","-webkit-transform":"rotate("+_css.direction+_css.animateTo+"deg)",transition:"all "+_css.time+" "+_css.easing,"-webkit-transition":"all "+_css.time+" "+_css.easing},_css:_css}},reset=function(conf){$(conf.categoryOrigin).off("webkitTransitionEnd"),$(conf.categoryOrigin).attr("style","")},stop=function(conf){$(conf.conf.categoryOrigin).off("webkitTransitionEnd")},random=function(source,direction,_random){var _source=[];if(source.length>1){var index=Math.floor(Math.random()*source.length);_source="right"==direction?source[index].map(function(item){return 360-item}):source[index].concat([])}else 1==source.length&&(_source="right"==direction?source[0].map(function(item){return 360-item}):source[0].concat([]));return _source.sort(function(item1,item2){return item1-item2}),Math.floor(_source[0]+_random[0]+Math.random()*(_source[1]-_random[1]-(_source[0]+_random[0])))};"function"==typeof define&&define.amd?define([],function(){return rotare}):"undefined"!=typeof module&&module.exports?module.exports=rotare:w.rotare=rotare}(window.Zepto||window.$,window);